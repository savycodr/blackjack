(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{19:function(e,a,t){e.exports=t(45)},25:function(e,a,t){},43:function(e,a,t){},44:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(13),i=t.n(s),r=(t(25),t(14)),d=t(15),c=t(17),o=t(16),u=t(2),h=t(18),m=t(3),v=t.n(m);t(43);var g=function(e){return l.a.createElement("div",null,e.cards.map(function(e){return l.a.createElement("div",{className:"card"},l.a.createElement("img",{src:e.image,alt:"card"}))}))},k=(t(44),function(){return v.a.get("https://deckofcardsapi.com/api/deck/new/shuffle/")}),f=function(e,a){return v.a.get("https://deckofcardsapi.com/api/deck/"+e+"/draw/?count="+a)},p={KING:10,QUEEN:10,JACK:10,ACE:1},C=function(e){function a(e){var t;return Object(r.a)(this,a),(t=Object(c.a)(this,Object(o.a)(a).call(this,e))).state={playerCards:[],dealerCards:[],deckId:0,message:"Welcome",disableBtn:!1},t.handleHitClick=t.handleHitClick.bind(Object(u.a)(t)),t.handleStandClick=t.handleStandClick.bind(Object(u.a)(t)),t.handleResetClick=t.handleResetClick.bind(Object(u.a)(t)),t}return Object(h.a)(a,e),Object(d.a)(a,[{key:"componentDidMount",value:function(){this.init()}},{key:"init",value:function(){var e=this;k().then(function(a){e.setState({deckId:a.data.deck_id}),console.log("cards are shuffled "+e.state.deckId),f(e.state.deckId,4).then(function(a){console.log("cards are dealt");var t=[];t.push({image:a.data.cards[0].image,value:a.data.cards[0].value}),t.push({image:a.data.cards[1].image,value:a.data.cards[1].value}),e.setState({playerCards:t});var n=[];n.push({image:a.data.cards[2].image,value:a.data.cards[2].value}),n.push({image:a.data.cards[3].image,value:a.data.cards[3].value}),e.setState({dealerCards:n}),console.log("playerCards ",t),console.log("dealerCards ",n)})}).catch(function(e){return console.log(e)})}},{key:"handleHitClick",value:function(e){var a=this;e.preventDefault(),f(this.state.deckId,1).then(function(e){console.log("a new card is dealt");var t=a.state.playerCards;t.push({image:e.data.cards[0].image,value:e.data.cards[0].value}),a.setState({playerCards:t});var n=a.getTotalValue(t);n>21&&(console.log("1. You lose "+n),a.setState({message:"You Lose!"}),a.setState({disableBtn:!0}))})}},{key:"handleStandClick",value:function(e){e.preventDefault(),this.hitDealer()}},{key:"determineWinner",value:function(){var e=this.getTotalValue(this.state.dealerCards),a=this.getTotalValue(this.state.playerCards);console.log("dealerTotal ",e),console.log("playerTotal ",a),e>21||e<a?this.setState({message:"You Win"}):e===a?this.setState({message:"You Tie"}):e>a&&this.setState({message:"You Lose"}),this.setState({disableBtn:!0})}},{key:"getTotalValue",value:function(e){var a=0;return e.forEach(function(e){a+=p[e.value]||+e.value}),a}},{key:"hitDealer",value:function(){var e=this,a=this.getTotalValue(this.state.dealerCards);console.log("the hitdealer total is at "+a),a<17?f(this.state.deckId,1).then(function(t){console.log("a new card is dealt to the dealer");var n=e.state.dealerCards;n.push({image:t.data.cards[0].image,value:t.data.cards[0].value}),e.setState({dealerCards:n}),(a=e.getTotalValue(n))>17?e.determineWinner():e.hitDealer()}):this.determineWinner()}},{key:"handleResetClick",value:function(e){e.preventDefault(),this.setState({disableBtn:!1}),this.setState({message:"Welcome Back"}),this.init()}},{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement("div",null,l.a.createElement("h1",null,this.state.message),l.a.createElement("h2",null,"Dealer's Hand"),l.a.createElement(g,{cards:this.state.dealerCards}),l.a.createElement("h2",null,"Player's Hand"),l.a.createElement(g,{cards:this.state.playerCards})),l.a.createElement("div",null,l.a.createElement("button",{disabled:this.state.disableBtn,onClick:this.handleHitClick},"Hit"),l.a.createElement("button",{disabled:this.state.disableBtn,onClick:this.handleStandClick},"Stand"),l.a.createElement("button",{disabled:!this.state.disableBtn,onClick:this.handleResetClick},"Play Again")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[19,1,2]]]);
//# sourceMappingURL=main.e09c1cf8.chunk.js.map